<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://thunkable.github.io/webviewer-extension/thunkableWebviewerExtension.js" type="text/javascript"></script>
  </head>
  <script type="text/javascript">
    
    // when we get user coordinates from the app which requires a return value
    // return the user's coordinates exactly as recieved.
    // If the message is 'test', wait for
    // four seconds, then return the string 'loud and clear!'.
    // The slow response shows how this could work for API calls that
    // take time to execute, while the test message is designed for debugging.
    ThunkableWebviewerExtension.receiveMessageWithReturnValue(function(message, callback) {
      if (message === 'test') {
        setTimeout(() => callback('loud and clear!'), 4000);
      } else {
        callback(message);
      }
    });
  </script>
</html>
